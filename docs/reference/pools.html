
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Pools &#8212; andesite.py 0.2.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="canonical" href="/andesite.py/docs/reference/pools.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="State" href="state.html" />
    <link rel="prev" title="Models" href="models.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="pools">
<h1>Pools<a class="headerlink" href="#pools" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-andesite.pools"></span><p>Client pools for multiple clients.</p>
<p>Client pools work exactly like the other clients,
but internally they use more than one client
(preferably to multiple Andesite nodes).</p>
<dl class="attribute">
<dt>
<code class="sig-name descname">RegionGuildComparator (Callable[[int, Optional[str]], int]</code></dt>
<dd><p>(Type alias)
Function which takes a guild id and the node region of an Andesite node and
returns an integer to indicate how well the guild is suited for the region.</p>
</dd></dl>

<dl class="attribute">
<dt id="andesite.pools.PoolScoringFunction">
<code class="sig-name descname">PoolScoringFunction</code><a class="headerlink" href="#andesite.pools.PoolScoringFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>(Type alias)
Function which takes <a class="reference internal" href="#andesite.pools.ScoringData" title="andesite.pools.ScoringData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ScoringData</span></code></a> as its only argument and returns a comparable object.
The function may also be a coroutine. The return value is only compared to return values
of the same function and the comparisons are bigger than (&gt;) and less than (&lt;). Equality (==)
is implied if something is neither bigger nor smaller than the other value.
A bigger return value (by comparison) implies that the <a class="reference internal" href="#andesite.pools.ScoringData" title="andesite.pools.ScoringData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ScoringData</span></code></a> is better
(ex: more suitable for the given guild).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Callable[[<a class="reference internal" href="#andesite.pools.ScoringData" title="andesite.pools.ScoringData">ScoringData</a>], Union[Any, Awaitable[Any]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="andesite.pools.NodeDetails">
<code class="sig-name descname">NodeDetails</code><a class="headerlink" href="#andesite.pools.NodeDetails" title="Permalink to this definition">¶</a></dt>
<dd><p>(Type alias) Tuple
containing the uri and the password of an Andesite node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Tuple[Union[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>, yarl.URL], Optional[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="exception">
<dt id="andesite.pools.PoolException">
<em class="property">exception </em><code class="sig-name descname">PoolException</code><span class="sig-paren">(</span><em class="sig-param">pool</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#PoolException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.PoolException" title="Permalink to this definition">¶</a></dt>
<dd><p>Pool exceptions.</p>
<dl class="attribute">
<dt id="andesite.pools.PoolException.pool">
<code class="sig-name descname">pool</code><a class="headerlink" href="#andesite.pools.PoolException.pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Pool which raised the error</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#andesite.pools.ClientPool" title="andesite.pools.ClientPool">ClientPool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.PoolException.with_traceback">
<code class="sig-name descname">with_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.PoolException.with_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="andesite.pools.PoolEmptyError">
<em class="property">exception </em><code class="sig-name descname">PoolEmptyError</code><span class="sig-paren">(</span><em class="sig-param">pool</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#PoolEmptyError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.PoolEmptyError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when a pool is empty but shouldn’t be.</p>
<dl class="method">
<dt id="andesite.pools.PoolEmptyError.with_traceback">
<code class="sig-name descname">with_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.PoolEmptyError.with_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="andesite.pools.PoolClientAddEvent">
<em class="property">class </em><code class="sig-name descname">PoolClientAddEvent</code><span class="sig-paren">(</span><em class="sig-param">pool</em>, <em class="sig-param">client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#PoolClientAddEvent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.PoolClientAddEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Event for when a new client is added to a pool.</p>
<dl class="attribute">
<dt id="andesite.pools.PoolClientAddEvent.pool">
<code class="sig-name descname">pool</code><a class="headerlink" href="#andesite.pools.PoolClientAddEvent.pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Pool the client was added to</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#andesite.pools.ClientPool" title="andesite.pools.ClientPool">ClientPool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="andesite.pools.PoolClientAddEvent.client">
<code class="sig-name descname">client</code><a class="headerlink" href="#andesite.pools.PoolClientAddEvent.client" title="Permalink to this definition">¶</a></dt>
<dd><p>Client that was added to the pool</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>CT</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="andesite.pools.PoolClientRemoveEvent">
<em class="property">class </em><code class="sig-name descname">PoolClientRemoveEvent</code><span class="sig-paren">(</span><em class="sig-param">pool</em>, <em class="sig-param">client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#PoolClientRemoveEvent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.PoolClientRemoveEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Event for when a client is removed from a pool.</p>
<dl class="attribute">
<dt id="andesite.pools.PoolClientRemoveEvent.pool">
<code class="sig-name descname">pool</code><a class="headerlink" href="#andesite.pools.PoolClientRemoveEvent.pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Pool the client was added to</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#andesite.pools.ClientPool" title="andesite.pools.ClientPool">ClientPool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="andesite.pools.PoolClientRemoveEvent.client">
<code class="sig-name descname">client</code><a class="headerlink" href="#andesite.pools.PoolClientRemoveEvent.client" title="Permalink to this definition">¶</a></dt>
<dd><p>Client that was added to the pool</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>CT</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="andesite.pools.ClientPool">
<em class="property">class </em><code class="sig-name descname">ClientPool</code><span class="sig-paren">(</span><em class="sig-param">events=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#ClientPool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.ClientPool" title="Permalink to this definition">¶</a></dt>
<dd><p>Andesite client pool.</p>
<dl class="method">
<dt id="andesite.pools.ClientPool.closed">
<em class="property">property </em><code class="sig-name descname">closed</code><a class="headerlink" href="#andesite.pools.ClientPool.closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether all clients in the pool are closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.ClientPool.close">
<em class="property">async </em><code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#ClientPool.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.ClientPool.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close all clients in the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.ClientPool.reset">
<em class="property">async </em><code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#ClientPool.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.ClientPool.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all underlying clients so they may be used again.</p>
<p>This has the opposite effect of the <a class="reference internal" href="#andesite.pools.ClientPool.close" title="andesite.pools.ClientPool.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">close</span></code></a> method making the clients
usable again.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.ClientPool.add_client">
<em class="property">abstract </em><code class="sig-name descname">add_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#ClientPool.add_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.ClientPool.add_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new client to the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<em>~CT</em>) – Client to add.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the client is already in the pool</p>
</dd>
</dl>
<p>Dispatches the <a class="reference internal" href="#andesite.pools.PoolClientAddEvent" title="andesite.pools.PoolClientAddEvent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PoolClientAddEvent</span></code></a> event.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.ClientPool.remove_client">
<em class="property">abstract </em><code class="sig-name descname">remove_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#ClientPool.remove_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.ClientPool.remove_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a client from the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<em>~CT</em>) – Client to remove.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the client isn’t in the pool</p>
</dd>
</dl>
<p>Dispatches the <a class="reference internal" href="#andesite.pools.PoolClientRemoveEvent" title="andesite.pools.PoolClientRemoveEvent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PoolClientRemoveEvent</span></code></a> event.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.ClientPool.add_child">
<code class="sig-name descname">add_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.ClientPool.add_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a child emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Childemitterabc</span></code>[~T]) – Child emitter to add.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the child emitter already is a child of this emitter,
    or the emitter is a child of the child emitter.
    The second case is only possible if the child emitter is itself
    an instance of <code class="xref py py-obj docutils literal notranslate"><span class="pre">EmitterABC</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.ClientPool.emit">
<code class="sig-name descname">emit</code><span class="sig-paren">(</span><em class="sig-param">event</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.ClientPool.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit an event to all observers.</p>
<p>The order in which the observers receive the events isn’t defined and
shouldn’t be depended upon.</p>
<p>If a listener raises an error, a <code class="xref py py-obj docutils literal notranslate"><span class="pre">ListenerError</span></code> event is emitted.
If an error occurs while handling the <code class="xref py py-obj docutils literal notranslate"><span class="pre">ListenerError</span></code> event, it is
ignored.</p>
<dl class="attribute">
<dt id="andesite.pools.ClientPool.event">
<code class="sig-name descname">event</code><a class="headerlink" href="#andesite.pools.ClientPool.event" title="Permalink to this definition">¶</a></dt>
<dd><p>Event object to emit</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asyncio.Future</span></code></a> which resolves to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> after all observers
have handled the event.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.ClientPool.has_child">
<code class="sig-name descname">has_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.ClientPool.has_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the child emitter is a child of the emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ChildEmitterABC</span></code>[~T]) – Emitter to check.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether or not the given emitter is either a direct, or an indirect
(child of a child) child of this emitter.
Note that every emitter is a child of itself.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.ClientPool.off">
<code class="sig-name descname">off</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.ClientPool.off" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable an event listener or remove all listeners from an event.</p>
<p>This can also be used to disable a listener that was added using <a class="reference internal" href="#andesite.pools.ClientPool.once" title="andesite.pools.ClientPool.once"><code class="xref py py-obj docutils literal notranslate"><span class="pre">once</span></code></a>
before it is called.</p>
<p>To remove all listeners from an event, pass the event selector to the
<a class="reference internal" href="#andesite.pools.ClientPool.event" title="andesite.pools.ClientPool.event"><code class="xref py py-obj docutils literal notranslate"><span class="pre">event</span></code></a> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEvent</span><span class="p">:</span>
    <span class="o">...</span>

<span class="n">observable</span><span class="o">.</span><span class="n">off</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">MyEvent</span><span class="p">)</span>
</pre></div>
</div>
<p>To remove a listener which is listening to all events, pass the listener
to the <code class="xref py py-obj docutils literal notranslate"><span class="pre">callback</span></code> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_any_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="n">observable</span><span class="o">.</span><span class="n">off</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">on_any_event</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to remove the listeners for.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Event listener. This is the same callable that was passed
to <a class="reference internal" href="#andesite.pools.ClientPool.on" title="andesite.pools.ClientPool.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a> or <a class="reference internal" href="#andesite.pools.ClientPool.once" title="andesite.pools.ClientPool.once"><code class="xref py py-obj docutils literal notranslate"><span class="pre">once</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.ClientPool.on">
<code class="sig-name descname">on</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.ClientPool.on" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener to the given event(s).</p>
<p>If you want to listen to all events you can pass the callback to the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">callback</span></code> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_any_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="n">observable</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">on_any_event</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to listen for. The latter case is
equivalent to calling <a class="reference internal" href="#andesite.pools.ClientPool.on" title="andesite.pools.ClientPool.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a> for each event separately.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Callable to call when the selected events are emitted.
It is called with the event instance as its only argument.
If it returns an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Awaitable</span></code> (or is a coroutine) it is awaited
before the emission “completes” (See <code class="xref py py-obj docutils literal notranslate"><span class="pre">ChildEmitterABC.emit</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.ClientPool.once">
<code class="sig-name descname">once</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.ClientPool.once" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener which is only called once.</p>
<p>This is basically the same as adding the listener using <a class="reference internal" href="#andesite.pools.ClientPool.on" title="andesite.pools.ClientPool.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a>
and then calling <a class="reference internal" href="#andesite.pools.ClientPool.off" title="andesite.pools.ClientPool.off"><code class="xref py py-obj docutils literal notranslate"><span class="pre">off</span></code></a> once the listener has been called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to listen for.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Callable to call when the selected events are emitted.
It is called with the event instance as its only argument.
If it returns an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Awaitable</span></code> (or is a coroutine) it is awaited
before the emission “completes” (See <code class="xref py py-obj docutils literal notranslate"><span class="pre">ChildEmitterABC.emit</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.ClientPool.remove_child">
<code class="sig-name descname">remove_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.ClientPool.remove_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a child emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Childemitterabc</span></code>[~T]) – Child emitter to remove.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the emitter isn’t a direct child.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.ClientPool.subscribe">
<code class="sig-name descname">subscribe</code><span class="sig-paren">(</span><em class="sig-param">event=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.ClientPool.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to the given event(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. Event type or multiple event types to
subscribe to. Can be <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> which will subscribe to all events.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">SubscriptionABC</span></code>[~T]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A subscription which is subscribed to the selected events.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="andesite.pools.HTTPPoolBase">
<em class="property">class </em><code class="sig-name descname">HTTPPoolBase</code><span class="sig-paren">(</span><em class="sig-param">clients</em>, <em class="sig-param">*</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">max_penalties=5</em>, <em class="sig-param">penalty_time_frame=60</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#HTTPPoolBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.HTTPPoolBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Andesite HTTP client pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clients</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<a class="reference internal" href="clients.html#andesite.http_client.AbstractHTTP" title="andesite.http_client.AbstractHTTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractHTTP</span></code></a>]) – HTTP clients to initialise the pool with</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – Sets the <a class="reference internal" href="#andesite.pools.HTTPPoolBase.timeout" title="andesite.pools.HTTPPoolBase.timeout"><code class="xref py py-obj docutils literal notranslate"><span class="pre">timeout</span></code></a> attribute.</p></li>
<li><p><strong>max_penalties</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Sets the <a class="reference internal" href="#andesite.pools.HTTPPoolBase.max_penalties" title="andesite.pools.HTTPPoolBase.max_penalties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">max_penalties</span></code></a> attribute.</p></li>
<li><p><strong>penalty_time_frame</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Sets the <a class="reference internal" href="#andesite.pools.HTTPPoolBase.penalty_time_frame" title="andesite.pools.HTTPPoolBase.penalty_time_frame"><code class="xref py py-obj docutils literal notranslate"><span class="pre">penalty_time_frame</span></code></a> attribute.</p></li>
</ul>
</dd>
</dl>
<p>The pool uses a circular buffer which is rotated after every request.</p>
<dl class="attribute">
<dt id="andesite.pools.HTTPPoolBase.timeout">
<code class="sig-name descname">timeout</code><a class="headerlink" href="#andesite.pools.HTTPPoolBase.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Time in seconds to wait before starting the request on the
next client. Note that the previous request isn’t cancelled, if it
succeeds after the next attempt has been started it is still
accepted and returned.</p>
</dd></dl>

<dl class="attribute">
<dt id="andesite.pools.HTTPPoolBase.max_penalties">
<code class="sig-name descname">max_penalties</code><a class="headerlink" href="#andesite.pools.HTTPPoolBase.max_penalties" title="Permalink to this definition">¶</a></dt>
<dd><p>Max number of penalties a client may receive in the
<a class="reference internal" href="#andesite.pools.HTTPPoolBase.penalty_time_frame" title="andesite.pools.HTTPPoolBase.penalty_time_frame"><code class="xref py py-obj docutils literal notranslate"><span class="pre">penalty_time_frame</span></code></a> before being removed from the pool. A penalty
is added to a client each time it raises an unexpected error.</p>
</dd></dl>

<dl class="attribute">
<dt id="andesite.pools.HTTPPoolBase.penalty_time_frame">
<code class="sig-name descname">penalty_time_frame</code><a class="headerlink" href="#andesite.pools.HTTPPoolBase.penalty_time_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of seconds before a penalty expires and no
long counts toward a client’s total number of penalties.</p>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.add_client">
<code class="sig-name descname">add_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#HTTPPoolBase.add_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.HTTPPoolBase.add_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new client to the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<a class="reference internal" href="clients.html#andesite.http_client.AbstractHTTP" title="andesite.http_client.AbstractHTTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractHTTP</span></code></a>) – Client to add.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the client is already in the pool</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.remove_client">
<code class="sig-name descname">remove_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#HTTPPoolBase.remove_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.HTTPPoolBase.remove_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a client from the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<a class="reference internal" href="clients.html#andesite.http_client.AbstractHTTP" title="andesite.http_client.AbstractHTTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractHTTP</span></code></a>) – Client to remove.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the client isn’t in the pool</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.get_current_client">
<code class="sig-name descname">get_current_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#HTTPPoolBase.get_current_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.HTTPPoolBase.get_current_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current http client.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="clients.html#andesite.http_client.AbstractHTTP" title="andesite.http_client.AbstractHTTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractHTTP</span></code></a>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The current client or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if there are no clients.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.get_next_client">
<code class="sig-name descname">get_next_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#HTTPPoolBase.get_next_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.HTTPPoolBase.get_next_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Move to the next http client and return it.</p>
<p>In reality this returns the next client
that seems to be working. (i.e. not closed)</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="clients.html#andesite.http_client.AbstractHTTP" title="andesite.http_client.AbstractHTTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractHTTP</span></code></a>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Next available client. <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if no clients are available.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.request">
<em class="property">async </em><code class="sig-name descname">request</code><span class="sig-paren">(</span><em class="sig-param">method</em>, <em class="sig-param">path</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#HTTPPoolBase.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.HTTPPoolBase.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a request on the one of the clients.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">AbstractHTTP.request</span></code> for the documentation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="../api.html#andesite.PoolEmptyError" title="andesite.PoolEmptyError"><strong>PoolEmptyError</strong></a> – If no clients are available</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.add_child">
<code class="sig-name descname">add_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPoolBase.add_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a child emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Childemitterabc</span></code>[~T]) – Child emitter to add.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the child emitter already is a child of this emitter,
    or the emitter is a child of the child emitter.
    The second case is only possible if the child emitter is itself
    an instance of <code class="xref py py-obj docutils literal notranslate"><span class="pre">EmitterABC</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.close">
<em class="property">async </em><code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPoolBase.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close all clients in the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.closed">
<em class="property">property </em><code class="sig-name descname">closed</code><a class="headerlink" href="#andesite.pools.HTTPPoolBase.closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether all clients in the pool are closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.emit">
<code class="sig-name descname">emit</code><span class="sig-paren">(</span><em class="sig-param">event</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPoolBase.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit an event to all observers.</p>
<p>The order in which the observers receive the events isn’t defined and
shouldn’t be depended upon.</p>
<p>If a listener raises an error, a <code class="xref py py-obj docutils literal notranslate"><span class="pre">ListenerError</span></code> event is emitted.
If an error occurs while handling the <code class="xref py py-obj docutils literal notranslate"><span class="pre">ListenerError</span></code> event, it is
ignored.</p>
<dl class="attribute">
<dt id="andesite.pools.HTTPPoolBase.event">
<code class="sig-name descname">event</code><a class="headerlink" href="#andesite.pools.HTTPPoolBase.event" title="Permalink to this definition">¶</a></dt>
<dd><p>Event object to emit</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asyncio.Future</span></code></a> which resolves to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> after all observers
have handled the event.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.has_child">
<code class="sig-name descname">has_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPoolBase.has_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the child emitter is a child of the emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ChildEmitterABC</span></code>[~T]) – Emitter to check.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether or not the given emitter is either a direct, or an indirect
(child of a child) child of this emitter.
Note that every emitter is a child of itself.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.off">
<code class="sig-name descname">off</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPoolBase.off" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable an event listener or remove all listeners from an event.</p>
<p>This can also be used to disable a listener that was added using <a class="reference internal" href="#andesite.pools.HTTPPoolBase.once" title="andesite.pools.HTTPPoolBase.once"><code class="xref py py-obj docutils literal notranslate"><span class="pre">once</span></code></a>
before it is called.</p>
<p>To remove all listeners from an event, pass the event selector to the
<a class="reference internal" href="#andesite.pools.HTTPPoolBase.event" title="andesite.pools.HTTPPoolBase.event"><code class="xref py py-obj docutils literal notranslate"><span class="pre">event</span></code></a> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEvent</span><span class="p">:</span>
    <span class="o">...</span>

<span class="n">observable</span><span class="o">.</span><span class="n">off</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">MyEvent</span><span class="p">)</span>
</pre></div>
</div>
<p>To remove a listener which is listening to all events, pass the listener
to the <code class="xref py py-obj docutils literal notranslate"><span class="pre">callback</span></code> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_any_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="n">observable</span><span class="o">.</span><span class="n">off</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">on_any_event</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to remove the listeners for.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Event listener. This is the same callable that was passed
to <a class="reference internal" href="#andesite.pools.HTTPPoolBase.on" title="andesite.pools.HTTPPoolBase.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a> or <a class="reference internal" href="#andesite.pools.HTTPPoolBase.once" title="andesite.pools.HTTPPoolBase.once"><code class="xref py py-obj docutils literal notranslate"><span class="pre">once</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.on">
<code class="sig-name descname">on</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPoolBase.on" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener to the given event(s).</p>
<p>If you want to listen to all events you can pass the callback to the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">callback</span></code> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_any_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="n">observable</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">on_any_event</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to listen for. The latter case is
equivalent to calling <a class="reference internal" href="#andesite.pools.HTTPPoolBase.on" title="andesite.pools.HTTPPoolBase.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a> for each event separately.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Callable to call when the selected events are emitted.
It is called with the event instance as its only argument.
If it returns an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Awaitable</span></code> (or is a coroutine) it is awaited
before the emission “completes” (See <code class="xref py py-obj docutils literal notranslate"><span class="pre">ChildEmitterABC.emit</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.once">
<code class="sig-name descname">once</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPoolBase.once" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener which is only called once.</p>
<p>This is basically the same as adding the listener using <a class="reference internal" href="#andesite.pools.HTTPPoolBase.on" title="andesite.pools.HTTPPoolBase.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a>
and then calling <a class="reference internal" href="#andesite.pools.HTTPPoolBase.off" title="andesite.pools.HTTPPoolBase.off"><code class="xref py py-obj docutils literal notranslate"><span class="pre">off</span></code></a> once the listener has been called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to listen for.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Callable to call when the selected events are emitted.
It is called with the event instance as its only argument.
If it returns an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Awaitable</span></code> (or is a coroutine) it is awaited
before the emission “completes” (See <code class="xref py py-obj docutils literal notranslate"><span class="pre">ChildEmitterABC.emit</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.remove_child">
<code class="sig-name descname">remove_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPoolBase.remove_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a child emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Childemitterabc</span></code>[~T]) – Child emitter to remove.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the emitter isn’t a direct child.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.reset">
<em class="property">async </em><code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPoolBase.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all underlying clients so they may be used again.</p>
<p>This has the opposite effect of the <a class="reference internal" href="#andesite.pools.HTTPPoolBase.close" title="andesite.pools.HTTPPoolBase.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">close</span></code></a> method making the clients
usable again.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPoolBase.subscribe">
<code class="sig-name descname">subscribe</code><span class="sig-paren">(</span><em class="sig-param">event=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPoolBase.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to the given event(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. Event type or multiple event types to
subscribe to. Can be <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> which will subscribe to all events.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">SubscriptionABC</span></code>[~T]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A subscription which is subscribed to the selected events.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="andesite.pools.HTTPPool">
<em class="property">class </em><code class="sig-name descname">HTTPPool</code><span class="sig-paren">(</span><em class="sig-param">clients</em>, <em class="sig-param">*</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">max_penalties=5</em>, <em class="sig-param">penalty_time_frame=60</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#HTTPPool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.HTTPPool" title="Permalink to this definition">¶</a></dt>
<dd><p>Andesite HTTP client pool.</p>
<p>This is just a wrapper around <a class="reference internal" href="#andesite.pools.HTTPPoolBase" title="andesite.pools.HTTPPoolBase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPPoolBase</span></code></a> which adds the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPInterface</span></code> methods.</p>
<p>Please see the documentation of <a class="reference internal" href="#andesite.pools.HTTPPoolBase" title="andesite.pools.HTTPPoolBase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPPoolBase</span></code></a> for more details.</p>
<dl class="method">
<dt id="andesite.pools.HTTPPool.add_child">
<code class="sig-name descname">add_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.add_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a child emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Childemitterabc</span></code>[~T]) – Child emitter to add.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the child emitter already is a child of this emitter,
    or the emitter is a child of the child emitter.
    The second case is only possible if the child emitter is itself
    an instance of <code class="xref py py-obj docutils literal notranslate"><span class="pre">EmitterABC</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.add_client">
<code class="sig-name descname">add_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.add_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new client to the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<a class="reference internal" href="clients.html#andesite.http_client.AbstractHTTP" title="andesite.http_client.AbstractHTTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractHTTP</span></code></a>) – Client to add.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the client is already in the pool</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.close">
<em class="property">async </em><code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close all clients in the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.closed">
<em class="property">property </em><code class="sig-name descname">closed</code><a class="headerlink" href="#andesite.pools.HTTPPool.closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether all clients in the pool are closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.decode_track">
<em class="property">async </em><code class="sig-name descname">decode_track</code><span class="sig-paren">(</span><em class="sig-param">track</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.decode_track" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="xref py py-obj docutils literal notranslate"><span class="pre">TrackInfo</span></code> from the encoded track data.</p>
<p class="rubric">Notes</p>
<p>If you find yourself using this method a lot, you might want to use
<a class="reference external" href="https://github.com/gieseladev/lptrack">lptrack</a> which can decode
and encode the track data locally.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>track</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – base 64 encoded track data to decode.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="models.html#andesite.models.track.TrackInfo" title="andesite.models.track.TrackInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrackInfo</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">TrackInfo</span></code> of the provided data, <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if the data is invalid.
Note that this method doesn’t raise <code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPError</span></code>!
If you need the <code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPError</span></code> to be raised, use <a class="reference internal" href="#andesite.pools.HTTPPool.decode_tracks" title="andesite.pools.HTTPPool.decode_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decode_tracks</span></code></a>.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Please use <a class="reference internal" href="#andesite.pools.HTTPPool.decode_tracks" title="andesite.pools.HTTPPool.decode_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decode_tracks</span></code></a> if you need to decode multiple
encoded strings at once!</p>
</div>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.decode_tracks">
<em class="property">async </em><code class="sig-name descname">decode_tracks</code><span class="sig-paren">(</span><em class="sig-param">tracks</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.decode_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="xref py py-obj docutils literal notranslate"><span class="pre">TrackInfo</span></code> from multiple encoded track data strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tracks</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – <code class="xref py py-obj docutils literal notranslate"><span class="pre">Iterable</span></code> of base 64 encoded track data to decode.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference internal" href="models.html#andesite.models.track.TrackInfo" title="andesite.models.track.TrackInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">TrackInfo</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of <code class="xref py py-obj docutils literal notranslate"><span class="pre">TrackInfo</span></code> in order of the provided tracks.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="../api.html#andesite.HTTPError" title="andesite.HTTPError"><strong>HTTPError</strong></a> – If Andesite returns an error.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.emit">
<code class="sig-name descname">emit</code><span class="sig-paren">(</span><em class="sig-param">event</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit an event to all observers.</p>
<p>The order in which the observers receive the events isn’t defined and
shouldn’t be depended upon.</p>
<p>If a listener raises an error, a <code class="xref py py-obj docutils literal notranslate"><span class="pre">ListenerError</span></code> event is emitted.
If an error occurs while handling the <code class="xref py py-obj docutils literal notranslate"><span class="pre">ListenerError</span></code> event, it is
ignored.</p>
<dl class="attribute">
<dt id="andesite.pools.HTTPPool.event">
<code class="sig-name descname">event</code><a class="headerlink" href="#andesite.pools.HTTPPool.event" title="Permalink to this definition">¶</a></dt>
<dd><p>Event object to emit</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asyncio.Future</span></code></a> which resolves to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> after all observers
have handled the event.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.get_current_client">
<code class="sig-name descname">get_current_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.get_current_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current http client.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="clients.html#andesite.http_client.AbstractHTTP" title="andesite.http_client.AbstractHTTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractHTTP</span></code></a>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The current client or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if there are no clients.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.get_next_client">
<code class="sig-name descname">get_next_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.get_next_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Move to the next http client and return it.</p>
<p>In reality this returns the next client
that seems to be working. (i.e. not closed)</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="clients.html#andesite.http_client.AbstractHTTP" title="andesite.http_client.AbstractHTTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractHTTP</span></code></a>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Next available client. <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if no clients are available.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.get_stats">
<em class="property">async </em><code class="sig-name descname">get_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.get_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the node’s statistics.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="../api.html#andesite.HTTPError" title="andesite.HTTPError"><strong>HTTPError</strong></a> – If Andesite returns an error.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="models.html#andesite.models.debug.Stats" title="andesite.models.debug.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.has_child">
<code class="sig-name descname">has_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.has_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the child emitter is a child of the emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ChildEmitterABC</span></code>[~T]) – Emitter to check.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether or not the given emitter is either a direct, or an indirect
(child of a child) child of this emitter.
Note that every emitter is a child of itself.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.load_tracks">
<em class="property">async </em><code class="sig-name descname">load_tracks</code><span class="sig-paren">(</span><em class="sig-param">identifier</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.load_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Load tracks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>identifier</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Identifier to load. The identifier isn’t handled in any way
so it supports the search syntax for example.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="../api.html#andesite.HTTPError" title="andesite.HTTPError"><strong>HTTPError</strong></a> – If Andesite returns an error.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#andesite.pools.HTTPPool.search_tracks" title="andesite.pools.HTTPPool.search_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_tracks</span></code></a> to search for a track using a query.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#andesite.models.track.LoadedTrack" title="andesite.models.track.LoadedTrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoadedTrack</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.load_tracks_safe">
<em class="property">async </em><code class="sig-name descname">load_tracks_safe</code><span class="sig-paren">(</span><em class="sig-param">uri</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.load_tracks_safe" title="Permalink to this definition">¶</a></dt>
<dd><p>Load tracks from url.</p>
<p>This is different from <a class="reference internal" href="#andesite.pools.HTTPPool.load_tracks" title="andesite.pools.HTTPPool.load_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_tracks</span></code></a> insofar that it ignores
special markers such as “ytsearch:” and treats the given uri
as nothing but that.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>uri</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – URI to load</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="../api.html#andesite.HTTPError" title="andesite.HTTPError"><strong>HTTPError</strong></a> – If Andesite returns an error.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#andesite.pools.HTTPPool.load_tracks" title="andesite.pools.HTTPPool.load_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_tracks</span></code></a> to load a track using an identifier.
<a class="reference internal" href="#andesite.pools.HTTPPool.search_tracks" title="andesite.pools.HTTPPool.search_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_tracks</span></code></a> to search for a track using a query.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#andesite.models.track.LoadedTrack" title="andesite.models.track.LoadedTrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoadedTrack</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.off">
<code class="sig-name descname">off</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.off" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable an event listener or remove all listeners from an event.</p>
<p>This can also be used to disable a listener that was added using <a class="reference internal" href="#andesite.pools.HTTPPool.once" title="andesite.pools.HTTPPool.once"><code class="xref py py-obj docutils literal notranslate"><span class="pre">once</span></code></a>
before it is called.</p>
<p>To remove all listeners from an event, pass the event selector to the
<a class="reference internal" href="#andesite.pools.HTTPPool.event" title="andesite.pools.HTTPPool.event"><code class="xref py py-obj docutils literal notranslate"><span class="pre">event</span></code></a> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEvent</span><span class="p">:</span>
    <span class="o">...</span>

<span class="n">observable</span><span class="o">.</span><span class="n">off</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">MyEvent</span><span class="p">)</span>
</pre></div>
</div>
<p>To remove a listener which is listening to all events, pass the listener
to the <code class="xref py py-obj docutils literal notranslate"><span class="pre">callback</span></code> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_any_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="n">observable</span><span class="o">.</span><span class="n">off</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">on_any_event</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to remove the listeners for.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Event listener. This is the same callable that was passed
to <a class="reference internal" href="#andesite.pools.HTTPPool.on" title="andesite.pools.HTTPPool.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a> or <a class="reference internal" href="#andesite.pools.HTTPPool.once" title="andesite.pools.HTTPPool.once"><code class="xref py py-obj docutils literal notranslate"><span class="pre">once</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.on">
<code class="sig-name descname">on</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.on" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener to the given event(s).</p>
<p>If you want to listen to all events you can pass the callback to the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">callback</span></code> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_any_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="n">observable</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">on_any_event</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to listen for. The latter case is
equivalent to calling <a class="reference internal" href="#andesite.pools.HTTPPool.on" title="andesite.pools.HTTPPool.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a> for each event separately.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Callable to call when the selected events are emitted.
It is called with the event instance as its only argument.
If it returns an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Awaitable</span></code> (or is a coroutine) it is awaited
before the emission “completes” (See <code class="xref py py-obj docutils literal notranslate"><span class="pre">ChildEmitterABC.emit</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.once">
<code class="sig-name descname">once</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.once" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener which is only called once.</p>
<p>This is basically the same as adding the listener using <a class="reference internal" href="#andesite.pools.HTTPPool.on" title="andesite.pools.HTTPPool.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a>
and then calling <a class="reference internal" href="#andesite.pools.HTTPPool.off" title="andesite.pools.HTTPPool.off"><code class="xref py py-obj docutils literal notranslate"><span class="pre">off</span></code></a> once the listener has been called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to listen for.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Callable to call when the selected events are emitted.
It is called with the event instance as its only argument.
If it returns an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Awaitable</span></code> (or is a coroutine) it is awaited
before the emission “completes” (See <code class="xref py py-obj docutils literal notranslate"><span class="pre">ChildEmitterABC.emit</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.remove_child">
<code class="sig-name descname">remove_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.remove_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a child emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Childemitterabc</span></code>[~T]) – Child emitter to remove.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the emitter isn’t a direct child.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.remove_client">
<code class="sig-name descname">remove_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.remove_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a client from the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<a class="reference internal" href="clients.html#andesite.http_client.AbstractHTTP" title="andesite.http_client.AbstractHTTP"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractHTTP</span></code></a>) – Client to remove.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the client isn’t in the pool</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.request">
<em class="property">async </em><code class="sig-name descname">request</code><span class="sig-paren">(</span><em class="sig-param">method</em>, <em class="sig-param">path</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a request on the one of the clients.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">AbstractHTTP.request</span></code> for the documentation.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="../api.html#andesite.PoolEmptyError" title="andesite.PoolEmptyError"><strong>PoolEmptyError</strong></a> – If no clients are available</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.reset">
<em class="property">async </em><code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all underlying clients so they may be used again.</p>
<p>This has the opposite effect of the <a class="reference internal" href="#andesite.pools.HTTPPool.close" title="andesite.pools.HTTPPool.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">close</span></code></a> method making the clients
usable again.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.search_tracks">
<em class="property">async </em><code class="sig-name descname">search_tracks</code><span class="sig-paren">(</span><em class="sig-param">query</em>, <em class="sig-param">*</em>, <em class="sig-param">searcher=&lt;Searcher.YOUTUBE: 'ytsearch'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.search_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Search tracks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Search query to search for</p></li>
<li><p><strong>searcher</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference internal" href="clients.html#andesite.http_client.Searcher" title="andesite.http_client.Searcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">Searcher</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Specify the searcher to use. Defaults to YouTube.
See <code class="xref py py-obj docutils literal notranslate"><span class="pre">Searcher</span></code> for the supported searchers.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="../api.html#andesite.HTTPError" title="andesite.HTTPError"><strong>HTTPError</strong></a> – If Andesite returns an error.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This is a utility method for the <a class="reference internal" href="#andesite.pools.HTTPPool.load_tracks" title="andesite.pools.HTTPPool.load_tracks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_tracks</span></code></a> method.
A search query is just an identifier with the format
“&lt;searcher&gt;:&lt;query&gt;”.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#andesite.models.track.LoadedTrack" title="andesite.models.track.LoadedTrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoadedTrack</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.HTTPPool.subscribe">
<code class="sig-name descname">subscribe</code><span class="sig-paren">(</span><em class="sig-param">event=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.HTTPPool.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to the given event(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. Event type or multiple event types to
subscribe to. Can be <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> which will subscribe to all events.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">SubscriptionABC</span></code>[~T]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A subscription which is subscribed to the selected events.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="andesite.pools.ScoringData">
<em class="property">class </em><code class="sig-name descname">ScoringData</code><span class="sig-paren">(</span><em class="sig-param">pool</em>, <em class="sig-param">client</em>, <em class="sig-param">node_region</em>, <em class="sig-param">region_comparator</em>, <em class="sig-param">guild_ids</em>, <em class="sig-param">guild_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#ScoringData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.ScoringData" title="Permalink to this definition">¶</a></dt>
<dd><p>Data passed to the web socket scoring scoring function.</p>
<dl class="attribute">
<dt id="andesite.pools.ScoringData.pool">
<code class="sig-name descname">pool</code><a class="headerlink" href="#andesite.pools.ScoringData.pool" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#andesite.pools.WebSocketPoolBase" title="andesite.pools.WebSocketPoolBase">WebSocketPoolBase</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="andesite.pools.ScoringData.client">
<code class="sig-name descname">client</code><a class="headerlink" href="#andesite.pools.ScoringData.client" title="Permalink to this definition">¶</a></dt>
<dd><p>Client to be evaluated</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket">AbstractWebSocket</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="andesite.pools.ScoringData.node_region">
<code class="sig-name descname">node_region</code><a class="headerlink" href="#andesite.pools.ScoringData.node_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Node region reported by the Andesite
client.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Optional[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="andesite.pools.ScoringData.region_comparator">
<code class="sig-name descname">region_comparator</code><a class="headerlink" href="#andesite.pools.ScoringData.region_comparator" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to
compare node region with guild id.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Optional[RegionGuildComparator]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="andesite.pools.ScoringData.guild_ids">
<code class="sig-name descname">guild_ids</code><a class="headerlink" href="#andesite.pools.ScoringData.guild_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Guild ids which are already assigned to the client</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Set[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="andesite.pools.ScoringData.guild_id">
<code class="sig-name descname">guild_id</code><a class="headerlink" href="#andesite.pools.ScoringData.guild_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Guild id which the client should be evaluated for</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)">int</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="andesite.pools.default_scoring_function">
<code class="sig-name descname">default_scoring_function</code><span class="sig-paren">(</span><em class="sig-param">data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#default_scoring_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.default_scoring_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the default score.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>3-tuple with the first element representing the connection status
-1 for closed, 0 for disconnected, and 1 for connected.
If the client doesn’t have a <code class="xref py py-obj docutils literal notranslate"><span class="pre">connected</span></code> attribute it is still
set to 1.</p>
<p>The second element is the result of the region comparator or
0 if no region comparator was passed.</p>
<p>The third element is the amount of guilds negative.
So it will favour clients with less guilds.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="andesite.pools.WebSocketPoolBase">
<em class="property">class </em><code class="sig-name descname">WebSocketPoolBase</code><span class="sig-paren">(</span><em class="sig-param">clients</em>, <em class="sig-param">*</em>, <em class="sig-param">state=None</em>, <em class="sig-param">scoring_function=None</em>, <em class="sig-param">region_comparator=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#WebSocketPoolBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.WebSocketPoolBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Base implementation of a web socket pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clients</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>]) – Web socket clients to initialise the pool with.</p></li>
<li><p><strong>state</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference internal" href="state.html#andesite.state.AbstractState" title="andesite.state.AbstractState"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractState</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – State handler to use for this pool. The state is used
to migrate nodes and defaults to the in-memory <code class="xref py py-obj docutils literal notranslate"><span class="pre">State</span></code>.
You can however disable the state by passing <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>.</p></li>
<li><p><strong>scoring_function</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[<a class="reference internal" href="#andesite.pools.ScoringData" title="andesite.pools.ScoringData"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScoringData</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]]]) – Scoring function to evaluate clients with.
This is a function which takes <a class="reference internal" href="#andesite.pools.ScoringData" title="andesite.pools.ScoringData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ScoringData</span></code></a> as its only argument
and returns a comparable object. The function can be a coroutine.
Defaults to <a class="reference internal" href="#andesite.pools.default_scoring_function" title="andesite.pools.default_scoring_function"><code class="xref py py-obj docutils literal notranslate"><span class="pre">default_scoring_function</span></code></a>.</p></li>
<li><p><strong>region_comparator</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]], <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]]) – Region comparator to use for comparing regions.</p></li>
</ul>
</dd>
</dl>
<p>The pool uses different clients on a guild to guild level.</p>
<p>If the pool uses a state, all clients within the pool are forced to use the
same state as well. Trying to add a client with a state to a pool with a
state will result in an error.</p>
<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.state">
<em class="property">property </em><code class="sig-name descname">state</code><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.state" title="Permalink to this definition">¶</a></dt>
<dd><p>State handler for the client.</p>
<p>You may manually set this value to a different state handler which
implements the <code class="xref py py-obj docutils literal notranslate"><span class="pre">AbstractState</span></code>. You can also disable state handling
by setting it to <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>.
Note that this won’t apply the state to the client! You can use the
<a class="reference internal" href="#andesite.pools.WebSocketPoolBase.load_player_state" title="andesite.pools.WebSocketPoolBase.load_player_state"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_player_state</span></code></a> method do load individual player states.</p>
<p>If not state is set the getter either returns the current instance, if
it happens to implement <code class="xref py py-obj docutils literal notranslate"><span class="pre">AbstractState</span></code>, otherwise it returns
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="state.html#andesite.state.AbstractState" title="andesite.state.AbstractState"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractState</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.scoring_function">
<em class="property">property </em><code class="sig-name descname">scoring_function</code><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.scoring_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Scoring function used by the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[<a class="reference internal" href="#andesite.pools.ScoringData" title="andesite.pools.ScoringData"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScoringData</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.add_child">
<code class="sig-name descname">add_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.add_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a child emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Childemitterabc</span></code>[~T]) – Child emitter to add.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the child emitter already is a child of this emitter,
    or the emitter is a child of the child emitter.
    The second case is only possible if the child emitter is itself
    an instance of <code class="xref py py-obj docutils literal notranslate"><span class="pre">EmitterABC</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.close">
<em class="property">async </em><code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close all clients in the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.closed">
<em class="property">property </em><code class="sig-name descname">closed</code><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether all clients in the pool are closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.emit">
<code class="sig-name descname">emit</code><span class="sig-paren">(</span><em class="sig-param">event</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit an event to all observers.</p>
<p>The order in which the observers receive the events isn’t defined and
shouldn’t be depended upon.</p>
<p>If a listener raises an error, a <code class="xref py py-obj docutils literal notranslate"><span class="pre">ListenerError</span></code> event is emitted.
If an error occurs while handling the <code class="xref py py-obj docutils literal notranslate"><span class="pre">ListenerError</span></code> event, it is
ignored.</p>
<dl class="attribute">
<dt id="andesite.pools.WebSocketPoolBase.event">
<code class="sig-name descname">event</code><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.event" title="Permalink to this definition">¶</a></dt>
<dd><p>Event object to emit</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asyncio.Future</span></code></a> which resolves to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> after all observers
have handled the event.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.event_target">
<em class="property">property </em><code class="sig-name descname">event_target</code><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.event_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Event target to send events to.</p>
<p>If no event target is set, but the instance is itself an event target,
self is set as the new event target and returned, otherwise a new event
target is created.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Observable</span></code>[~T]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.has_child">
<code class="sig-name descname">has_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.has_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the child emitter is a child of the emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ChildEmitterABC</span></code>[~T]) – Emitter to check.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether or not the given emitter is either a direct, or an indirect
(child of a child) child of this emitter.
Note that every emitter is a child of itself.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.load_player_state">
<em class="property">async </em><code class="sig-name descname">load_player_state</code><span class="sig-paren">(</span><em class="sig-param">player_state</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.load_player_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a player state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>player_state</strong> (<a class="reference internal" href="state.html#andesite.state.AbstractPlayerState" title="andesite.state.AbstractPlayerState"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractPlayerState</span></code></a>) – State to load.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.off">
<code class="sig-name descname">off</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.off" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable an event listener or remove all listeners from an event.</p>
<p>This can also be used to disable a listener that was added using <a class="reference internal" href="#andesite.pools.WebSocketPoolBase.once" title="andesite.pools.WebSocketPoolBase.once"><code class="xref py py-obj docutils literal notranslate"><span class="pre">once</span></code></a>
before it is called.</p>
<p>To remove all listeners from an event, pass the event selector to the
<a class="reference internal" href="#andesite.pools.WebSocketPoolBase.event" title="andesite.pools.WebSocketPoolBase.event"><code class="xref py py-obj docutils literal notranslate"><span class="pre">event</span></code></a> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEvent</span><span class="p">:</span>
    <span class="o">...</span>

<span class="n">observable</span><span class="o">.</span><span class="n">off</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">MyEvent</span><span class="p">)</span>
</pre></div>
</div>
<p>To remove a listener which is listening to all events, pass the listener
to the <code class="xref py py-obj docutils literal notranslate"><span class="pre">callback</span></code> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_any_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="n">observable</span><span class="o">.</span><span class="n">off</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">on_any_event</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to remove the listeners for.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Event listener. This is the same callable that was passed
to <a class="reference internal" href="#andesite.pools.WebSocketPoolBase.on" title="andesite.pools.WebSocketPoolBase.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a> or <a class="reference internal" href="#andesite.pools.WebSocketPoolBase.once" title="andesite.pools.WebSocketPoolBase.once"><code class="xref py py-obj docutils literal notranslate"><span class="pre">once</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.on">
<code class="sig-name descname">on</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.on" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener to the given event(s).</p>
<p>If you want to listen to all events you can pass the callback to the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">callback</span></code> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_any_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="n">observable</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">on_any_event</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to listen for. The latter case is
equivalent to calling <a class="reference internal" href="#andesite.pools.WebSocketPoolBase.on" title="andesite.pools.WebSocketPoolBase.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a> for each event separately.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Callable to call when the selected events are emitted.
It is called with the event instance as its only argument.
If it returns an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Awaitable</span></code> (or is a coroutine) it is awaited
before the emission “completes” (See <code class="xref py py-obj docutils literal notranslate"><span class="pre">ChildEmitterABC.emit</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.once">
<code class="sig-name descname">once</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.once" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener which is only called once.</p>
<p>This is basically the same as adding the listener using <a class="reference internal" href="#andesite.pools.WebSocketPoolBase.on" title="andesite.pools.WebSocketPoolBase.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a>
and then calling <a class="reference internal" href="#andesite.pools.WebSocketPoolBase.off" title="andesite.pools.WebSocketPoolBase.off"><code class="xref py py-obj docutils literal notranslate"><span class="pre">off</span></code></a> once the listener has been called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to listen for.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Callable to call when the selected events are emitted.
It is called with the event instance as its only argument.
If it returns an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Awaitable</span></code> (or is a coroutine) it is awaited
before the emission “completes” (See <code class="xref py py-obj docutils literal notranslate"><span class="pre">ChildEmitterABC.emit</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.region_comparator">
<em class="property">property </em><code class="sig-name descname">region_comparator</code><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.region_comparator" title="Permalink to this definition">¶</a></dt>
<dd><p>Region comparator used to compare guild region with Andesite node region.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]], <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.remove_child">
<code class="sig-name descname">remove_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.remove_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a child emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Childemitterabc</span></code>[~T]) – Child emitter to remove.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the emitter isn’t a direct child.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.reset">
<em class="property">async </em><code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all underlying clients so they may be used again.</p>
<p>This has the opposite effect of the <a class="reference internal" href="#andesite.pools.WebSocketPoolBase.close" title="andesite.pools.WebSocketPoolBase.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">close</span></code></a> method making the clients
usable again.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.send_operation">
<em class="property">async </em><code class="sig-name descname">send_operation</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em>, <em class="sig-param">operation</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.send_operation" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a <code class="xref py py-obj docutils literal notranslate"><span class="pre">SendOperation</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Target guild id</p></li>
<li><p><strong>operation</strong> (<a class="reference internal" href="models.html#andesite.models.send_operations.SendOperation" title="andesite.models.send_operations.SendOperation"><code class="xref py py-class docutils literal notranslate"><span class="pre">SendOperation</span></code></a>) – Operation to send</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">SendOperation</span></code> instances to send messages is slightly
less efficient than calling the respective <code class="xref py py-obj docutils literal notranslate"><span class="pre">WebSocket</span></code> methods
directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.subscribe">
<code class="sig-name descname">subscribe</code><span class="sig-paren">(</span><em class="sig-param">event=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to the given event(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. Event type or multiple event types to
subscribe to. Can be <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> which will subscribe to all events.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">SubscriptionABC</span></code>[~T]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A subscription which is subscribed to the selected events.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.add_client">
<code class="sig-name descname">add_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#WebSocketPoolBase.add_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.add_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new client to the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>) – Client to add.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the client is already in the pool or if the client
    has a state and the pool also has a different state.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.remove_client">
<code class="sig-name descname">remove_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#WebSocketPoolBase.remove_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.remove_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a web socket client from the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>) – WebSocket client to remove</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the client isn’t in the pool</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method removes the client without performing node migration.
If you want to properly remove a client use the <a class="reference internal" href="#andesite.pools.WebSocketPoolBase.pull_client" title="andesite.pools.WebSocketPoolBase.pull_client"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pull_client</span></code></a>
method.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.pull_client">
<em class="property">async </em><code class="sig-name descname">pull_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#WebSocketPoolBase.pull_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.pull_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a client from the pool and migrate its state to another node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>) – WebSocket client to remove</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the client isn’t in the pool</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.get_client">
<code class="sig-name descname">get_client</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#WebSocketPoolBase.get_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.get_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the andesite web socket client which is used for the given guild.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.iter_client_guild_ids">
<code class="sig-name descname">iter_client_guild_ids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#WebSocketPoolBase.iter_client_guild_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.iter_client_guild_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over all clients with their assigned guild ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterator</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.calculate_score">
<em class="property">async </em><code class="sig-name descname">calculate_score</code><span class="sig-paren">(</span><em class="sig-param">data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#WebSocketPoolBase.calculate_score"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.calculate_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the score using the scoring function.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.find_best_client">
<em class="property">async </em><code class="sig-name descname">find_best_client</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#WebSocketPoolBase.find_best_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.find_best_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the best client for the given guild.</p>
<p>If there are multiple clients with the same score, a
random one is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.assign_client">
<em class="property">async </em><code class="sig-name descname">assign_client</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#WebSocketPoolBase.assign_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.assign_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a client to the given guild.</p>
<p>If the guild already has a client, it is simply returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.get_guild_ids">
<code class="sig-name descname">get_guild_ids</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#WebSocketPoolBase.get_guild_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.get_guild_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the guild ids which the client is assigned to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>) – Client to get guild ids for.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Guild ids set which are assigned to the client.
Mutating the returned set won’t affect the internal
state, the returned set is a shallow copy of the internal one.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPoolBase.send">
<em class="property">async </em><code class="sig-name descname">send</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em>, <em class="sig-param">op</em>, <em class="sig-param">payload</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#WebSocketPoolBase.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.WebSocketPoolBase.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a payload.</p>
<p>The guild_id and op are written to the payload before it is converted to JSON.</p>
<p>If sending the message fails because the connection is closed,
it is added to the message queue and a connection attempt is started.</p>
<p>Regardless of whether the payload was actually sent or
not a <code class="xref py py-obj docutils literal notranslate"><span class="pre">RawMsgSendEvent</span></code> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">raw_msg_send</span></code>) event is dispatched.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Target guild id</p></li>
<li><p><strong>op</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of operation to perform</p></li>
<li><p><strong>payload</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]) – Additional data to be sent along with the data.
The payload is mutated by the function.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="andesite.pools.WebSocketPool">
<em class="property">class </em><code class="sig-name descname">WebSocketPool</code><span class="sig-paren">(</span><em class="sig-param">clients</em>, <em class="sig-param">*</em>, <em class="sig-param">state=None</em>, <em class="sig-param">scoring_function=None</em>, <em class="sig-param">region_comparator=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#WebSocketPool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.WebSocketPool" title="Permalink to this definition">¶</a></dt>
<dd><p>Pool of Andesite web socket connections.</p>
<p>Please refer to <a class="reference internal" href="#andesite.pools.WebSocketPoolBase" title="andesite.pools.WebSocketPoolBase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WebSocketPoolBase</span></code></a> for the documentation.</p>
<dl class="method">
<dt id="andesite.pools.WebSocketPool.add_child">
<code class="sig-name descname">add_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.add_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a child emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Childemitterabc</span></code>[~T]) – Child emitter to add.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the child emitter already is a child of this emitter,
    or the emitter is a child of the child emitter.
    The second case is only possible if the child emitter is itself
    an instance of <code class="xref py py-obj docutils literal notranslate"><span class="pre">EmitterABC</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.add_client">
<code class="sig-name descname">add_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.add_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new client to the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>) – Client to add.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the client is already in the pool or if the client
    has a state and the pool also has a different state.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.assign_client">
<em class="property">async </em><code class="sig-name descname">assign_client</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.assign_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a client to the given guild.</p>
<p>If the guild already has a client, it is simply returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.calculate_score">
<em class="property">async </em><code class="sig-name descname">calculate_score</code><span class="sig-paren">(</span><em class="sig-param">data</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.calculate_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the score using the scoring function.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.close">
<em class="property">async </em><code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close all clients in the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.closed">
<em class="property">property </em><code class="sig-name descname">closed</code><a class="headerlink" href="#andesite.pools.WebSocketPool.closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether all clients in the pool are closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.destroy">
<em class="property">async </em><code class="sig-name descname">destroy</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy a player.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – ID of the guild for which to destroy the player</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.emit">
<code class="sig-name descname">emit</code><span class="sig-paren">(</span><em class="sig-param">event</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit an event to all observers.</p>
<p>The order in which the observers receive the events isn’t defined and
shouldn’t be depended upon.</p>
<p>If a listener raises an error, a <code class="xref py py-obj docutils literal notranslate"><span class="pre">ListenerError</span></code> event is emitted.
If an error occurs while handling the <code class="xref py py-obj docutils literal notranslate"><span class="pre">ListenerError</span></code> event, it is
ignored.</p>
<dl class="attribute">
<dt id="andesite.pools.WebSocketPool.event">
<code class="sig-name descname">event</code><a class="headerlink" href="#andesite.pools.WebSocketPool.event" title="Permalink to this definition">¶</a></dt>
<dd><p>Event object to emit</p>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/asyncio-future.html#asyncio.Future" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asyncio.Future</span></code></a> which resolves to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> after all observers
have handled the event.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.event_target">
<em class="property">property </em><code class="sig-name descname">event_target</code><a class="headerlink" href="#andesite.pools.WebSocketPool.event_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Event target to send events to.</p>
<p>If no event target is set, but the instance is itself an event target,
self is set as the new event target and returned, otherwise a new event
target is created.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Observable</span></code>[~T]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.filters">
<em class="property">async </em><code class="sig-name descname">filters</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em>, <em class="sig-param">filter_update=None</em>, <em class="sig-param">*</em>, <em class="sig-param">equalizer=None</em>, <em class="sig-param">karaoke=None</em>, <em class="sig-param">timescale=None</em>, <em class="sig-param">tremolo=None</em>, <em class="sig-param">vibrato=None</em>, <em class="sig-param">volume=None</em>, <em class="sig-param">**custom_filters</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.filters" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the filters of a player.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – ID of the guild for which to configure the filters</p></li>
<li><p><strong>filter_update</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="models.html#andesite.models.filters.FilterMap" title="andesite.models.filters.FilterMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilterMap</span></code></a>]) – Instead of specifying the other keyword arguments
you may provide a <code class="xref py py-obj docutils literal notranslate"><span class="pre">FilterMap</span></code> operation which will be used
instead.</p></li>
<li><p><strong>equalizer</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="models.html#andesite.models.filters.Equalizer" title="andesite.models.filters.Equalizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Equalizer</span></code></a>]) – Equalizer filter settings</p></li>
<li><p><strong>karaoke</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="models.html#andesite.models.filters.Karaoke" title="andesite.models.filters.Karaoke"><code class="xref py py-class docutils literal notranslate"><span class="pre">Karaoke</span></code></a>]) – Karaoke filter settings</p></li>
<li><p><strong>timescale</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="models.html#andesite.models.filters.Timescale" title="andesite.models.filters.Timescale"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timescale</span></code></a>]) – Timescale filter settings</p></li>
<li><p><strong>tremolo</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="models.html#andesite.models.filters.Tremolo" title="andesite.models.filters.Tremolo"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tremolo</span></code></a>]) – Tremolo filter settings</p></li>
<li><p><strong>vibrato</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="models.html#andesite.models.filters.Vibrato" title="andesite.models.filters.Vibrato"><code class="xref py py-class docutils literal notranslate"><span class="pre">Vibrato</span></code></a>]) – Vibrato filter settings</p></li>
<li><p><strong>volume</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="models.html#andesite.models.filters.VolumeFilter" title="andesite.models.filters.VolumeFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">VolumeFilter</span></code></a>]) – Volume filter settings</p></li>
<li><p><strong>**custom_filters</strong> – Ability to specify additional filters
that aren’t supported by the library.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.find_best_client">
<em class="property">async </em><code class="sig-name descname">find_best_client</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.find_best_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the best client for the given guild.</p>
<p>If there are multiple clients with the same score, a
random one is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.get_client">
<code class="sig-name descname">get_client</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.get_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the andesite web socket client which is used for the given guild.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.get_guild_ids">
<code class="sig-name descname">get_guild_ids</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.get_guild_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the guild ids which the client is assigned to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>) – Client to get guild ids for.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Guild ids set which are assigned to the client.
Mutating the returned set won’t affect the internal
state, the returned set is a shallow copy of the internal one.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.get_player">
<em class="property">async </em><code class="sig-name descname">get_player</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.get_player" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the player.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Target guild id</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="models.html#andesite.models.player.Player" title="andesite.models.player.Player"><code class="xref py py-class docutils literal notranslate"><span class="pre">Player</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Player for the guild</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.get_stats">
<em class="property">async </em><code class="sig-name descname">get_stats</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.get_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Andesite stats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Target guild id</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="models.html#andesite.models.debug.Stats" title="andesite.models.debug.Stats"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stats</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Statistics for the node</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.has_child">
<code class="sig-name descname">has_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.has_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the child emitter is a child of the emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ChildEmitterABC</span></code>[~T]) – Emitter to check.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether or not the given emitter is either a direct, or an indirect
(child of a child) child of this emitter.
Note that every emitter is a child of itself.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.iter_client_guild_ids">
<code class="sig-name descname">iter_client_guild_ids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.iter_client_guild_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over all clients with their assigned guild ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterator</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.load_player_state">
<em class="property">async </em><code class="sig-name descname">load_player_state</code><span class="sig-paren">(</span><em class="sig-param">player_state</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.load_player_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a player state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>player_state</strong> (<a class="reference internal" href="state.html#andesite.state.AbstractPlayerState" title="andesite.state.AbstractPlayerState"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractPlayerState</span></code></a>) – State to load.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.mixer">
<em class="property">async </em><code class="sig-name descname">mixer</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em>, <em class="sig-param">enable=None</em>, <em class="sig-param">**players</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.mixer" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the mixer player.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – ID of the guild for which to configure the mixer</p></li>
<li><p><strong>enable</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>]) – If present, controls whether or not the mixer should be used</p></li>
<li><p><strong>**players</strong> – Map of player id to <code class="xref py py-obj docutils literal notranslate"><span class="pre">Play</span></code> / <code class="xref py py-obj docutils literal notranslate"><span class="pre">Update</span></code> payloads for each mixer source</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.off">
<code class="sig-name descname">off</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.off" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable an event listener or remove all listeners from an event.</p>
<p>This can also be used to disable a listener that was added using <a class="reference internal" href="#andesite.pools.WebSocketPool.once" title="andesite.pools.WebSocketPool.once"><code class="xref py py-obj docutils literal notranslate"><span class="pre">once</span></code></a>
before it is called.</p>
<p>To remove all listeners from an event, pass the event selector to the
<a class="reference internal" href="#andesite.pools.WebSocketPool.event" title="andesite.pools.WebSocketPool.event"><code class="xref py py-obj docutils literal notranslate"><span class="pre">event</span></code></a> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEvent</span><span class="p">:</span>
    <span class="o">...</span>

<span class="n">observable</span><span class="o">.</span><span class="n">off</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">MyEvent</span><span class="p">)</span>
</pre></div>
</div>
<p>To remove a listener which is listening to all events, pass the listener
to the <code class="xref py py-obj docutils literal notranslate"><span class="pre">callback</span></code> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_any_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="n">observable</span><span class="o">.</span><span class="n">off</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">on_any_event</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to remove the listeners for.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Event listener. This is the same callable that was passed
to <a class="reference internal" href="#andesite.pools.WebSocketPool.on" title="andesite.pools.WebSocketPool.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a> or <a class="reference internal" href="#andesite.pools.WebSocketPool.once" title="andesite.pools.WebSocketPool.once"><code class="xref py py-obj docutils literal notranslate"><span class="pre">once</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.on">
<code class="sig-name descname">on</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.on" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener to the given event(s).</p>
<p>If you want to listen to all events you can pass the callback to the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">callback</span></code> keyword argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_any_event</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="n">observable</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="n">on_any_event</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to listen for. The latter case is
equivalent to calling <a class="reference internal" href="#andesite.pools.WebSocketPool.on" title="andesite.pools.WebSocketPool.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a> for each event separately.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Callable to call when the selected events are emitted.
It is called with the event instance as its only argument.
If it returns an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Awaitable</span></code> (or is a coroutine) it is awaited
before the emission “completes” (See <code class="xref py py-obj docutils literal notranslate"><span class="pre">ChildEmitterABC.emit</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.once">
<code class="sig-name descname">once</code><span class="sig-paren">(</span><em class="sig-param">event=None</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.once" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener which is only called once.</p>
<p>This is basically the same as adding the listener using <a class="reference internal" href="#andesite.pools.WebSocketPool.on" title="andesite.pools.WebSocketPool.on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on</span></code></a>
and then calling <a class="reference internal" href="#andesite.pools.WebSocketPool.off" title="andesite.pools.WebSocketPool.off"><code class="xref py py-obj docutils literal notranslate"><span class="pre">off</span></code></a> once the listener has been called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. This can be the type of a single event or
a tuple of multiple events to listen for.</p></li>
<li><p><strong>callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[~T], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<code class="docutils literal notranslate"><span class="pre">None</span></code>]]]]) – Callable to call when the selected events are emitted.
It is called with the event instance as its only argument.
If it returns an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Awaitable</span></code> (or is a coroutine) it is awaited
before the emission “completes” (See <code class="xref py py-obj docutils literal notranslate"><span class="pre">ChildEmitterABC.emit</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.pause">
<em class="property">async </em><code class="sig-name descname">pause</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em>, <em class="sig-param">pause</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.pause" title="Permalink to this definition">¶</a></dt>
<dd><p>Pause a player.</p>
<p>If the player is already paused or unpaused,
this is a no-op.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – ID of the guild for which to pause</p></li>
<li><p><strong>pause</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> to pause, <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> to unpause</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.ping">
<em class="property">async </em><code class="sig-name descname">ping</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.ping" title="Permalink to this definition">¶</a></dt>
<dd><p>Ping the Andesite server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Target guild id</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Amount of seconds it took for the response to be received.
Note: This is not necessarily an accurate reflection of the actual latency.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.play">
<em class="property">async </em><code class="sig-name descname">play</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em>, <em class="sig-param">track</em>, <em class="sig-param">*</em>, <em class="sig-param">start=None</em>, <em class="sig-param">end=None</em>, <em class="sig-param">pause=None</em>, <em class="sig-param">volume=None</em>, <em class="sig-param">no_replace=False</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.play" title="Permalink to this definition">¶</a></dt>
<dd><p>Play a track on the guild.</p>
<p>Instead of providing all the fields you can also pass a <code class="xref py py-obj docutils literal notranslate"><span class="pre">Play</span></code> operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – ID of the guild for which to play</p></li>
<li><p><strong>track</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference internal" href="models.html#andesite.models.send_operations.Play" title="andesite.models.send_operations.Play"><code class="xref py py-class docutils literal notranslate"><span class="pre">Play</span></code></a>]) – Either a <code class="xref py py-obj docutils literal notranslate"><span class="pre">Play</span></code> operation or a base64 encoded lavaplayer track.
If you pass a <code class="xref py py-obj docutils literal notranslate"><span class="pre">Play</span></code> operation you must not set any of the
keyword arguments.</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – timestamp, in seconds, to start the track</p></li>
<li><p><strong>end</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – timestamp, in seconds, to end the track</p></li>
<li><p><strong>pause</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>]) – whether or not to pause the player</p></li>
<li><p><strong>volume</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – volume to set on the player</p></li>
<li><p><strong>no_replace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – if True and a track is already playing/paused,
this command is ignored (Default: False)</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.pull_client">
<em class="property">async </em><code class="sig-name descname">pull_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.pull_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a client from the pool and migrate its state to another node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>) – WebSocket client to remove</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the client isn’t in the pool</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.region_comparator">
<em class="property">property </em><code class="sig-name descname">region_comparator</code><a class="headerlink" href="#andesite.pools.WebSocketPool.region_comparator" title="Permalink to this definition">¶</a></dt>
<dd><p>Region comparator used to compare guild region with Andesite node region.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]], <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.remove_child">
<code class="sig-name descname">remove_child</code><span class="sig-paren">(</span><em class="sig-param">emitter</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.remove_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a child emitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>emitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Childemitterabc</span></code>[~T]) – Child emitter to remove.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the emitter isn’t a direct child.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.remove_client">
<code class="sig-name descname">remove_client</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.remove_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a web socket client from the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<a class="reference internal" href="clients.html#andesite.web_socket_client.AbstractWebSocket" title="andesite.web_socket_client.AbstractWebSocket"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractWebSocket</span></code></a>) – WebSocket client to remove</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.7)"><strong>ValueError</strong></a> – If the client isn’t in the pool</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method removes the client without performing node migration.
If you want to properly remove a client use the <a class="reference internal" href="#andesite.pools.WebSocketPool.pull_client" title="andesite.pools.WebSocketPool.pull_client"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pull_client</span></code></a>
method.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.reset">
<em class="property">async </em><code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all underlying clients so they may be used again.</p>
<p>This has the opposite effect of the <a class="reference internal" href="#andesite.pools.WebSocketPool.close" title="andesite.pools.WebSocketPool.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">close</span></code></a> method making the clients
usable again.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.scoring_function">
<em class="property">property </em><code class="sig-name descname">scoring_function</code><a class="headerlink" href="#andesite.pools.WebSocketPool.scoring_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Scoring function used by the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code></a>[[<a class="reference internal" href="#andesite.pools.ScoringData" title="andesite.pools.ScoringData"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScoringData</span></code></a>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Awaitable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Awaitable</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.seek">
<em class="property">async </em><code class="sig-name descname">seek</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em>, <em class="sig-param">position</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Seek to a position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – ID of the guild for which to seek</p></li>
<li><p><strong>position</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Timestamp, in seconds, to seek to</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.send">
<em class="property">async </em><code class="sig-name descname">send</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em>, <em class="sig-param">op</em>, <em class="sig-param">payload</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a payload.</p>
<p>The guild_id and op are written to the payload before it is converted to JSON.</p>
<p>If sending the message fails because the connection is closed,
it is added to the message queue and a connection attempt is started.</p>
<p>Regardless of whether the payload was actually sent or
not a <code class="xref py py-obj docutils literal notranslate"><span class="pre">RawMsgSendEvent</span></code> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">raw_msg_send</span></code>) event is dispatched.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Target guild id</p></li>
<li><p><strong>op</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of operation to perform</p></li>
<li><p><strong>payload</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]) – Additional data to be sent along with the data.
The payload is mutated by the function.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.send_operation">
<em class="property">async </em><code class="sig-name descname">send_operation</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em>, <em class="sig-param">operation</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.send_operation" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a <code class="xref py py-obj docutils literal notranslate"><span class="pre">SendOperation</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Target guild id</p></li>
<li><p><strong>operation</strong> (<a class="reference internal" href="models.html#andesite.models.send_operations.SendOperation" title="andesite.models.send_operations.SendOperation"><code class="xref py py-class docutils literal notranslate"><span class="pre">SendOperation</span></code></a>) – Operation to send</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Using <code class="xref py py-obj docutils literal notranslate"><span class="pre">SendOperation</span></code> instances to send messages is slightly
less efficient than calling the respective <code class="xref py py-obj docutils literal notranslate"><span class="pre">WebSocket</span></code> methods
directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.state">
<em class="property">property </em><code class="sig-name descname">state</code><a class="headerlink" href="#andesite.pools.WebSocketPool.state" title="Permalink to this definition">¶</a></dt>
<dd><p>State handler for the client.</p>
<p>You may manually set this value to a different state handler which
implements the <code class="xref py py-obj docutils literal notranslate"><span class="pre">AbstractState</span></code>. You can also disable state handling
by setting it to <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>.
Note that this won’t apply the state to the client! You can use the
<a class="reference internal" href="#andesite.pools.WebSocketPool.load_player_state" title="andesite.pools.WebSocketPool.load_player_state"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_player_state</span></code></a> method do load individual player states.</p>
<p>If not state is set the getter either returns the current instance, if
it happens to implement <code class="xref py py-obj docutils literal notranslate"><span class="pre">AbstractState</span></code>, otherwise it returns
<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="state.html#andesite.state.AbstractState" title="andesite.state.AbstractState"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractState</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.stop">
<em class="property">async </em><code class="sig-name descname">stop</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop a player.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – ID of the guild for which to stop</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.subscribe">
<code class="sig-name descname">subscribe</code><span class="sig-paren">(</span><em class="sig-param">event=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to the given event(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a>[~T], …], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – Event selector. Event type or multiple event types to
subscribe to. Can be <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> which will subscribe to all events.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">SubscriptionABC</span></code>[~T]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A subscription which is subscribed to the selected events.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.update">
<em class="property">async </em><code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em>, <em class="sig-param">update=None</em>, <em class="sig-param">*</em>, <em class="sig-param">pause=None</em>, <em class="sig-param">position=None</em>, <em class="sig-param">volume=None</em>, <em class="sig-param">filters=None</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Send an update.</p>
<p>You may either provide the given keyword arguments,
or pass an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Update</span></code> operation which will be used instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – ID of the guild for which to update.</p></li>
<li><p><strong>update</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference internal" href="models.html#andesite.models.send_operations.Update" title="andesite.models.send_operations.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a>]) – You can provide an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Update</span></code> operation instead of
the keyword arguments.</p></li>
<li><p><strong>pause</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>]) – whether or not to pause the player</p></li>
<li><p><strong>position</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – timestamp to set the current track to, in seconds</p></li>
<li><p><strong>volume</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>]) – volume to set on the player</p></li>
<li><p><strong>filters</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference internal" href="models.html#andesite.models.filters.FilterMap" title="andesite.models.filters.FilterMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">FilterMap</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference internal" href="models.html#andesite.models.filters.Filter" title="andesite.models.filters.Filter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filter</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]], <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – configuration for the filters</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.voice_server_update">
<em class="property">async </em><code class="sig-name descname">voice_server_update</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em>, <em class="sig-param">session_id</em>, <em class="sig-param">event</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.voice_server_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide a voice server update.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – ID of the guild of the voice server update</p></li>
<li><p><strong>session_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – session id</p></li>
<li><p><strong>event</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]) – voice server update event as sent by Discord</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If you wish to send a <code class="xref py py-obj docutils literal notranslate"><span class="pre">VoiceServerUpdate</span></code> operation, please
use the <a class="reference internal" href="#andesite.pools.WebSocketPool.send_operation" title="andesite.pools.WebSocketPool.send_operation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">send_operation</span></code></a> method directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="andesite.pools.WebSocketPool.volume">
<em class="property">async </em><code class="sig-name descname">volume</code><span class="sig-paren">(</span><em class="sig-param">guild_id</em>, <em class="sig-param">volume</em><span class="sig-paren">)</span><a class="headerlink" href="#andesite.pools.WebSocketPool.volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a player’s volume.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>guild_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – ID of the guild for which to set the volume</p></li>
<li><p><strong>volume</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>) – Volume to set</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="andesite.pools.create_pool">
<code class="sig-name descname">create_pool</code><span class="sig-paren">(</span><em class="sig-param">http_nodes</em>, <em class="sig-param">web_socket_nodes</em>, <em class="sig-param">*</em>, <em class="sig-param">user_id</em>, <em class="sig-param">state=None</em>, <em class="sig-param">http_pool_kwargs=None</em>, <em class="sig-param">web_socket_pool_kwargs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/andesite/pools.html#create_pool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#andesite.pools.create_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Client</span></code> with client pools.</p>
<p>Uses <code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPBase</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">WebSocketBase</span></code> which are contained in
<a class="reference internal" href="#andesite.pools.HTTPPoolBase" title="andesite.pools.HTTPPoolBase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPPoolBase</span></code></a> and <a class="reference internal" href="#andesite.pools.WebSocketPoolBase" title="andesite.pools.WebSocketPoolBase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WebSocketPoolBase</span></code></a> pools respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>http_nodes</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]]]) – Tuples of [uri, password] for each REST node to connect to.</p></li>
<li><p><strong>web_socket_nodes</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code>], <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]]]) – Tuples of [uri, password] for each WebSocket node to
connect to.</p></li>
<li><p><strong>user_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Bot’s user id.</p></li>
<li><p><strong>state</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference internal" href="state.html#andesite.state.AbstractState" title="andesite.state.AbstractState"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractState</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]) – State handler to use for the pools. Defaults to <code class="xref py py-obj docutils literal notranslate"><span class="pre">State</span></code>,
because a state handler is required for node migration to work. You
can pass <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> to disable state handling though.</p></li>
<li><p><strong>http_pool_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mapping</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]) – Additional keyword arguments to pass to the http pool
constructor.</p></li>
<li><p><strong>web_socket_pool_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mapping</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.7)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]) – Additional keyword arguments to pass to the web
socket pool constructor.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="clients.html#andesite.combined_client.Client" title="andesite.combined_client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A combined Andesite client operation on an http pool and a web socket
pool.</p>
</dd>
</dl>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">andesite.py</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick-start</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="clients.html">Andesite clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="discord.html">Discord</a></li>
<li class="toctree-l2"><a class="reference internal" href="event_target.html">Event Target</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Pools</a></li>
<li class="toctree-l2"><a class="reference internal" href="state.html">State</a></li>
<li class="toctree-l2"><a class="reference internal" href="transform.html">Transform</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Overview</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Reference</a><ul>
      <li>Previous: <a href="models.html" title="previous chapter">Models</a></li>
      <li>Next: <a href="state.html" title="next chapter">State</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Giesela Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/reference/pools.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>